# 📦 TW-Overlay Release Note - v1.5.0

## 🚀 개요
이번 **v1.5.0** 업데이트는 대규모 리팩토링을 통해 앱의 **성능 최적화**와 **아키텍처 안정성**을 강화하는 데 집중했습니다. `SharedArrayBuffer` 도입을 통해 데이터 처리 효율을 극대화했으며, 창 관리 시스템을 전면 재설계하여 향후 기능 확장이 용이한 구조를 갖추었습니다.

---

## ✨ 주요 변경 사항

### ⚡ 성능 최적화 (Performance)
- **SharedArrayBuffer 도입 (Zero-copy):** 메인 프로세스에서 캡처한 픽셀 데이터를 분석 워커(Worker Thread)로 전달할 때 발생하는 메모리 복사 오버헤드를 완전히 제거했습니다. 이로 인해 CPU 점유율이 낮아지고 가비지 컬렉션(GC)으로 인한 미세한 멈춤 현상이 사라졌습니다.
- **GDI 유틸리티 공통화:** 장판 감시와 버프 감시 로직에 흩어져 있던 GDI 캡처 코드를 중앙 관리 클래스로 통합하여 네이티브 리소스 관리를 최적화했습니다.

### 🧩 아키텍처 개선 (Architecture)
- **WindowManager Registry 도입:** 하드코딩되어 있던 개별 창 관리 로직을 레지스트리 패턴으로 전환했습니다. 모든 보조 창의 위치 동기화, 가시성 제어, 설정 적용이 통합된 로직을 통해 수행됩니다.
- **창 생명주기 훅 (Lifecycle Hooks):** 각 창이 열리고 닫힐 때 특정 로직(예: 감시 중지 등)이 자동으로 실행되도록 구조화하여 코드의 결합도를 낮췄습니다.
- **리소스 경로 관리 강화:** ASAR 환경(빌드 후 실행 환경)에서도 에셋 파일을 안정적으로 로드할 수 있도록 전역 리소스 경로 유틸리티를 도입했습니다.

### 🎨 사용자 경험 개선 (UX)
- **버프 미감지 알림:** 버프 자동 감지 기능 사용 중 도핑이 되어 있지 않을 경우, 사이드바 패널에 **빨간색 삼각형 경고 아이콘(`triangle-alert`)**이 깜빡이도록 하여 사용자가 즉시 인지할 수 있게 했습니다.
- **실시간 버프 툴팁:** 버프 감지 버튼에 마우스를 올리면 현재 감지된 버프들의 상세 이름을 실시간으로 확인할 수 있습니다.

---

## 🛠 버그 수정 및 안정성
- **Z-Order 관리 안정화:** 특정 상황에서 창 순서가 꼬이던 문제를 해결하기 위해 가장 신뢰할 수 있는 순차 호출 방식으로 로직을 복구 및 정교화했습니다.
- **Native API 핸들 관리:** GDI 핸들(`DC`, `Bitmap`)의 생성 및 해제 과정을 엄격히 체크하여 리소스 누수 가능성을 차단했습니다.

---

## 📦 설치 및 업데이트
- [GitHub Releases](https://github.com/drt0927/tw-overlay/releases/tag/v1.5.0)에서 최신 버전의 설치 파일을 다운로드하실 수 있습니다.
- 기존 사용자는 앱 내 **환경 설정 > 앱 정보 > 업데이트 확인**을 통해 자동으로 업데이트를 진행할 수 있습니다.
